# Aderyn Analysis Report

This report was generated by [Aderyn](https://github.com/Cyfrin/aderyn), a static analysis tool built by [Cyfrin](https://cyfrin.io), a blockchain security company. This report is not a substitute for manual audit or security review. It should not be relied upon for any purpose other than to assist in the identification of potential security vulnerabilities.
# Table of Contents

- [Summary](#summary)
  - [Files Summary](#files-summary)
  - [Files Details](#files-details)
  - [Issue Summary](#issue-summary)
- [Low Issues](#low-issues)
  - [L-1: Centralization Risk](#l-1-centralization-risk)
  - [L-2: Unsafe ERC20 Operation](#l-2-unsafe-erc20-operation)
  - [L-3: Address State Variable Set Without Checks](#l-3-address-state-variable-set-without-checks)
  - [L-4: Empty `require()` / `revert()` Statement](#l-4-empty-require--revert-statement)
  - [L-5: Empty Block](#l-5-empty-block)
  - [L-6: Unused Error](#l-6-unused-error)
  - [L-7: Unchecked Return](#l-7-unchecked-return)


# Summary

## Files Summary

| Key | Value |
| --- | --- |
| .sol Files | 2 |
| Total nSLOC | 170 |


## Files Details

| Filepath | nSLOC |
| --- | --- |
| src/UnstoppableMonitor.sol | 49 |
| src/UnstoppableVault.sol | 121 |
| **Total** | **170** |


## Issue Summary

| Category | No. of Issues |
| --- | --- |
| High | 0 |
| Low | 7 |


# Low Issues

## L-1: Centralization Risk

Contracts have owners with privileged rights to perform admin tasks and need to be trusted to not perform malicious updates or drain funds.

<details><summary>6 Found Instances</summary>


- Found in src/UnstoppableMonitor.sol [Line: 15](src/UnstoppableMonitor.sol#L15)

	```solidity
	contract UnstoppableMonitor is Owned, IERC3156FlashBorrower {
	```

- Found in src/UnstoppableMonitor.sol [Line: 73](src/UnstoppableMonitor.sol#L73)

	```solidity
	    function checkFlashLoan(uint256 amount) external onlyOwner {
	```

- Found in src/UnstoppableVault.sol [Line: 23](src/UnstoppableVault.sol#L23)

	```solidity
	    Owned,
	```

- Found in src/UnstoppableVault.sol [Line: 165](src/UnstoppableVault.sol#L165)

	```solidity
	    function setFeeRecipient(address _feeRecipient) external onlyOwner {
	```

- Found in src/UnstoppableVault.sol [Line: 176](src/UnstoppableVault.sol#L176)

	```solidity
	    ) external onlyOwner whenPaused {
	```

- Found in src/UnstoppableVault.sol [Line: 182](src/UnstoppableVault.sol#L182)

	```solidity
	    function setPause(bool flag) external onlyOwner {
	```

</details>



## L-2: Unsafe ERC20 Operation

ERC20 functions may not behave as expected. For example: return values are not always meaningful. It is recommended to use OpenZeppelin's SafeERC20 library.

<details><summary>2 Found Instances</summary>


- Found in src/UnstoppableMonitor.sol [Line: 64](src/UnstoppableMonitor.sol#L64)

	```solidity
	            ERC20(token).approve(address(vault), amount);
	```

- Found in src/UnstoppableMonitor.sol [Line: 68](src/UnstoppableMonitor.sol#L68)

	```solidity
	            ERC20(token).approve(address(vault), amount + fee);
	```

</details>



## L-3: Address State Variable Set Without Checks

Check for `address(0)` when assigning values to address state variables.

<details><summary>1 Found Instances</summary>


- Found in src/UnstoppableVault.sol [Line: 51](src/UnstoppableVault.sol#L51)

	```solidity
	        feeRecipient = _feeRecipient;
	```

</details>



## L-4: Empty `require()` / `revert()` Statement

Use descriptive reason strings or custom errors for revert paths.

<details><summary>2 Found Instances</summary>


- Found in src/UnstoppableMonitor.sol [Line: 74](src/UnstoppableMonitor.sol#L74)

	```solidity
	        require(amount > 0);
	```

- Found in src/UnstoppableVault.sol [Line: 178](src/UnstoppableVault.sol#L178)

	```solidity
	        require(success);
	```

</details>



## L-5: Empty Block

Consider removing empty blocks.

<details><summary>2 Found Instances</summary>


- Found in src/UnstoppableVault.sol [Line: 194](src/UnstoppableVault.sol#L194)

	```solidity
	    function beforeWithdraw(
	```

- Found in src/UnstoppableVault.sol [Line: 203](src/UnstoppableVault.sol#L203)

	```solidity
	    function afterDeposit(
	```

</details>



## L-6: Unused Error

Consider using or removing the unused error.

<details><summary>4 Found Instances</summary>


- Found in src/UnstoppableMonitor.sol [Line: 21](src/UnstoppableMonitor.sol#L21)

	```solidity
	    error SameInitiator();
	```

- Found in src/UnstoppableMonitor.sol [Line: 22](src/UnstoppableMonitor.sol#L22)

	```solidity
	    error VaultContractCaller();
	```

- Found in src/UnstoppableMonitor.sol [Line: 23](src/UnstoppableMonitor.sol#L23)

	```solidity
	    error AssetToken();
	```

- Found in src/UnstoppableMonitor.sol [Line: 24](src/UnstoppableMonitor.sol#L24)

	```solidity
	    error ZeroFee();
	```

</details>



## L-7: Unchecked Return

Function returns a value but it is ignored. Consider checking the return value.

<details><summary>2 Found Instances</summary>


- Found in src/UnstoppableMonitor.sol [Line: 64](src/UnstoppableMonitor.sol#L64)

	```solidity
	            ERC20(token).approve(address(vault), amount);
	```

- Found in src/UnstoppableMonitor.sol [Line: 68](src/UnstoppableMonitor.sol#L68)

	```solidity
	            ERC20(token).approve(address(vault), amount + fee);
	```

</details>



